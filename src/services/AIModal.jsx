import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Goa, for 3 Days for Couple with a moderate budget, give me Hotels options list with hotelName, hotelAddress, price, hotel, image url, geo-coordinates, rating, descriptions and suggest itinerary with placeName, place details, place image url , geo-coordinates, tickets pricing, time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Goa\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Moderate\",\n    \"travelers\": \"Couple\",\n    \"hotels\": [\n      {\n        \"hotelName\": \"Hotel La Casa Siesta\",\n        \"hotelAddress\": \"Gauravaddo, Calangute, Bardez, Goa 403516\",\n        \"price\": \"₹3000-₹4500 per night\",\n        \"imageUrl\": \"https://example.com/lacasa_siesta.jpg\",\n        \"geoCoordinates\": { \"latitude\": 15.5494, \"longitude\": 73.7598 },\n        \"rating\": 4.2,\n        \"description\": \"A charming boutique hotel with comfortable rooms and a relaxed atmosphere, close to Calangute beach.\"\n      },\n       {\n        \"hotelName\": \"Bloomrooms @ Calangute\",\n        \"hotelAddress\": \"House No 107, Umta Vaddo, Calangute, Goa 403516\",\n        \"price\": \"₹2500-₹3800 per night\",\n        \"imageUrl\": \"https://example.com/bloomrooms_calangute.jpg\",\n         \"geoCoordinates\": { \"latitude\": 15.5494, \"longitude\": 73.7598 },\n        \"rating\": 4.0,\n        \"description\": \"A modern and stylish hotel with all basic amenities, within walking distance to Calangute beach.\"\n      },\n      {\n        \"hotelName\": \"The Park Calangute\",\n        \"hotelAddress\": \"Gauravaddo, Calangute, Bardez, Goa 403516\",\n         \"price\": \"₹3500-₹5500 per night\",\n        \"imageUrl\": \"https://example.com/thepark_calangute.jpg\",\n          \"geoCoordinates\": { \"latitude\": 15.5494, \"longitude\": 73.7598 },\n        \"rating\": 4.4,\n        \"description\": \"A contemporary hotel with vibrant decor and a rooftop pool, close to the beach and market.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Beaches and Sunset\",\n        \"plan\": [\n          {\n            \"placeName\": \"Calangute Beach\",\n            \"placeDetails\": \"Popular and lively beach with water sports, shacks, and a bustling atmosphere. A good place to experience the Goan vibe.\",\n            \"imageUrl\": \"https://example.com/calangute_beach.jpg\",\n             \"geoCoordinates\": { \"latitude\": 15.5484, \"longitude\": 73.7652 },\n            \"ticketsPricing\": \"Free\",\n            \"timeTravel\": \"Arrival and morning exploration\",\n              \"bestTimeToVisit\": \"Morning to early afternoon for watersports, evening for sunset\"\n          },\n          {\n            \"placeName\": \"Baga Beach\",\n            \"placeDetails\": \"Another popular beach known for its nightlife, water sports, and Tito's Lane, a vibrant street with clubs and restaurants.\",\n            \"imageUrl\": \"https://example.com/baga_beach.jpg\",\n              \"geoCoordinates\": { \"latitude\": 15.5567, \"longitude\": 73.7504 },\n            \"ticketsPricing\": \"Free\",\n             \"timeTravel\": \"10 mins from Calangute Beach\",\n              \"bestTimeToVisit\": \"Afternoon for water sports, evening for nightlife\"\n          },\n         {\n              \"placeName\": \"Sunset at Anjuna Beach\",\n              \"placeDetails\":\" Known for its scenic beauty and sunset views, Anjuna beach offers a more relaxed and bohemian atmosphere.  Visit the flea market (Wednesdays).\",\n              \"imageUrl\":\"https://example.com/anjuna_beach.jpg\",\n              \"geoCoordinates\":{\"latitude\":15.5680,\"longitude\":73.7384},\n              \"ticketsPricing\":\"Free\",\n              \"timeTravel\": \"20 mins from Baga Beach\",\n              \"bestTimeToVisit\":\"Late afternoon to evening (sunset)\"\n            }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Historical and Cultural Goa\",\n        \"plan\": [\n          {\n            \"placeName\": \"Fort Aguada\",\n            \"placeDetails\": \"A well-preserved 17th-century Portuguese fort with a lighthouse, offering panoramic views of the Arabian Sea. A significant historical site.\",\n            \"imageUrl\": \"https://example.com/fort_aguada.jpg\",\n              \"geoCoordinates\": { \"latitude\": 15.5153, \"longitude\": 73.7637 },\n            \"ticketsPricing\": \"₹25 per person\",\n              \"timeTravel\": \"45 mins from Anjuna Beach\",\n            \"bestTimeToVisit\":\"Morning (before the sun gets too harsh)\"\n          },\n         {\n            \"placeName\": \"Basilica of Bom Jesus\",\n              \"placeDetails\": \"A UNESCO World Heritage site, this church houses the mortal remains of St. Francis Xavier. A major pilgrimage site and an example of Baroque architecture.\",\n              \"imageUrl\": \"https://example.com/basilica_bomjesus.jpg\",\n             \"geoCoordinates\": { \"latitude\": 15.5037, \"longitude\": 73.9015 },\n            \"ticketsPricing\":\"Free\",\n            \"timeTravel\":\"45 mins from Fort Aguada\",\n            \"bestTimeToVisit\":\"Morning or early afternoon (avoid midday heat)\"\n\n          },\n          {\n            \"placeName\": \"Se Cathedral\",\n              \"placeDetails\": \"One of the largest churches in Asia, located opposite the Basilica. It's renowned for its architecture and grand interiors.\",\n              \"imageUrl\":\"https://example.com/se_cathedral.jpg\",\n               \"geoCoordinates\": { \"latitude\": 15.5027, \"longitude\": 73.9002 },\n              \"ticketsPricing\":\"Free\",\n               \"timeTravel\": \"5 mins from Basilica of Bom Jesus\",\n              \"bestTimeToVisit\": \"Morning or early afternoon\"\n          },\n            {\n              \"placeName\":\"Panjim City Exploration\",\n              \"placeDetails\":\"Stroll through the vibrant streets of Panjim, visit the Latin Quarter of Fontainhas, and enjoy some local Goan food.\",\n              \"imageUrl\":\"https://example.com/panjim_city.jpg\",\n             \"geoCoordinates\": { \"latitude\": 15.4995, \"longitude\": 73.8300 },\n              \"ticketsPricing\": \"Free\",\n                \"timeTravel\":\"15 mins from Se Cathedral\",\n               \"bestTimeToVisit\":\"Evening (after 5pm)\"\n             }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Relaxation and Departure\",\n        \"plan\": [\n           {\n            \"placeName\": \"Arambol Beach\",\n              \"placeDetails\": \"A laid-back and serene beach with a hippie vibe, known for its sweet water lake and paragliding. Great place to relax and chill out.\",\n              \"imageUrl\":\"https://example.com/arambol_beach.jpg\",\n            \"geoCoordinates\": { \"latitude\": 15.6840, \"longitude\": 73.7178 },\n            \"ticketsPricing\":\"Free\",\n                \"timeTravel\": \"1 hour from Panjim\",\n              \"bestTimeToVisit\":\"Morning or early afternoon\"\n\n          },\n          {\n              \"placeName\": \"Sweet Water Lake\",\n                \"placeDetails\": \"A tranquil freshwater lake located close to Arambol beach, a great place to swim and relax surrounded by nature.\",\n                \"imageUrl\":\"https://example.com/sweet_water_lake.jpg\",\n              \"geoCoordinates\":{ \"latitude\": 15.6819, \"longitude\": 73.7195 },\n               \"ticketsPricing\":\"Free\",\n               \"timeTravel\":\"10 mins from Arambol Beach\",\n                \"bestTimeToVisit\":\"Afternoon\"\n          },\n          {\n            \"placeName\":\"Departure\",\n              \"placeDetails\":\"Head to the airport/railway station for your onward journey.\",\n              \"imageUrl\":\"https://example.com/departure.jpg\",\n               \"geoCoordinates\": { \"latitude\": 15.3879, \"longitude\": 73.8312 },\n               \"ticketsPricing\": \"Depends on mode of travel\",\n               \"timeTravel\": \"Depends on mode of travel and Airport location\",\n              \"bestTimeToVisit\":\"Evening\"\n            }\n\n        ]\n      }\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
   